# 1.tutorial

## 1.1 getting started
Chessembly는 체스와 변형 체스 기물의 행마법을 기술하는 표현법입니다.

이 문서는 Chessembly를 사용하여 여러분의 첫 번째 체스 기물 행마법을 표현하는 방법을 안내합니다.

### 1. 설명의 모음

Chessembly에서 행마법은 가능한 움직임에 대한 설명을 한 줄 한 줄 적어 내려가는 것과 같습니다.

"오른쪽으로 1칸" 또는 "대각선으로 1칸" 같은 설명을 작성합니다. Chessembly는 여러분이 작성한 모든 설명을 읽고, 기물이 지금 갈 수 있는 **모든 유효한 칸들을 활성화**해 줍니다.

### 2. take-move

대부분의 기물(나이트, 비숍, 룩, 퀸)은 "이동"과 "공격"을 동시에 할 수 있습니다. 이러한 일반적인 동작을 `take-move`라고 설명합니다.

`take-move`는 **(dx, dy) 방향**을 받습니다.

- `(1, 0)` : 오른쪽으로 1칸
- `(0, 1)` : 위로 1칸 (전진)
- `(-1, 0)` : 왼쪽으로 1칸
- `(1, 1)` : 오른쪽 위 대각선 1칸

각 설명은 세미콜론( `;` )으로 끝나야 합니다. 세미콜론은 "하나의 독립된 설명이 끝났다"는 기호입니다.

`take-move(dx, dy)`를 사용하면 모양이 다른 행마법을 가진 기물을 자유롭게 만들 수 있습니다.

> 띄어쓰기는 올바르게 입력되어야 합니다. 각 표현식마다 반드시 띄어쓰기가 되어 있어야 하고, 여는 괄호는 앞의 표현식 이름(take-move 등)과 붙여 써야 합니다. 또한, Chessembly는 **대소문자에 민감(Case sensitive)**합니다. `Take-Move(1, 0)` 는 올바르지 않습니다.
> 

> Chessembly는 올바르지 않은 식은 일반적으로 모두 `end`로 변환하여 인식합니다. `end`가 중간에 등장한다면 해당 식은 중단됩니다. 하지만 간혹 오류가 발생할 수도 있습니다.
> 

### 3. 첫 기물: 와지르 (Wazir)

와지르(Wazir)는 상하좌우(직교)로 한 칸만 이동 또는 잡기를 할 수 있는 간단한 기물입니다.

Chessembly에서는 4개의 독립된 설명을 순서대로 적어주면 됩니다.

```less
take-move(1, 0);
take-move(0, 1);
take-move(-1, 0);
take-move(0, -1);
```

이 4줄은 현재 기물의 기준 위치로부터 4가지 방향의 칸을 각각 활성화합니다. 세미콜론( `;` )이 각 줄을 "독립적인 설명"으로 분리해 주기 때문에, 4개의 식이 모두 기준 위치로부터 1칸씩 떨어진 곳을 가리키게 됩니다.

## 1.2 slide

[1.1 Getting Started] 에서는 `take-move`를 사용해 한 칸씩만 움직이는 wazie를 만들었습니다. Rook이나 Bishop처럼 장애물이 없을 때까지 계속 움직이는 기물도 표현 수 있습니다.

`repeat(1)`은 바로 앞의 식을 반복합니디. 이는 바로 앞에 있는 `take-move` 설명에 붙어서, "이 움직임을 한 칸이 아니라 벽이나 다른 기물을 만날 때까지 계속 반복하라"는 명령으로 바꿔줍니다.

마찬가지로 `repeat(2)` 는 앞 2개의 식을 반복합니다. 다만, 앞에 2개의 식이 반드시 있어야 합니다.

### 1. 예시: 룩 (Rook)

룩(Rook)은 상하좌우 4방향으로 "미끄러지듯" 움직입니다. '워지르'를 만들었던 4줄의 코드에 `repeat(1)`을 각각 추가하기만 하면 됩니다.

```less
take-move(1, 0) repeat(1);
take-move(-1, 0) repeat(1);
take-move(0, 1) repeat(1);
take-move(0, -1) repeat(1);
```

- `take-move(1, 0) repeat(1);`
    - `take-move(1, 0)`은 "오른쪽 한 칸"을 의미합니다.
    - `repeat(1)`이 붙어서 "오른쪽으로 끝까지"라는 의미로 확장됩니다.
    - 룩은 이 한 줄을 보고 (1, 0), (2, 0), (3, 0)... 위치에 있는 모든 유효한 칸을 활성화합니다.

### 2. 응용 예시: 나이트라이더 (Knightrider)

`repeat(1)`은 `(1, 0)` 같은 직선 방향뿐만 아니라 모든 방향에 적용할 수 있습니다.

나이트라이더(Knightrider)는 "나이트(Knight)처럼 'L'자 방향으로, 룩(Rook)처럼 미끄러지는 변형 체스 기물입니다.

나이트의 8방향 `take-move` 설명에 `repeat(1)`을 붙여주기만 하면 됩니다.

```less
take-move(1, 2) repeat(1);
take-move(2, 1) repeat(1);
take-move(1, -2) repeat(1);
take-move(2, -1) repeat(1);
take-move(-1, 2) repeat(1);
take-move(-2, 1) repeat(1);
take-move(-1, -2) repeat(1);
take-move(-2, -1) repeat(1);
```

- `take-move(1, 2) repeat(1);`
    - 나이트라이더는 (1, 2) 방향으로 (2, 4), (3, 6)... 위치를 계속 탐색하며 모든 유효한 칸을 활성화합니다.

## 1.3 move, take, catch, shift

지금까지 우리는 "이동 또는 잡기"가 모두 가능한 `take-move`를 사용했습니다.

하지만 때로는 "이동만" 하거나 "잡기만" 하고 싶을 수 있습니다. 또는 다른 기물과 자리를 바꾸고 싶을지도 모릅니다. Chessembly는 이를 위한 4가지 추가 행마법 표현을 지원합니다.

자세한 내용은 아래 동영상을 참조해 주시기 바랍니다.

[체스 특수 창작 행마법 총정리 - 유튜브 잉체스 https://youtube.com/shorts/N4ZJVDLuOl8?si=jDn9GPhnxQ-uiOm4]

### 1. `move` (이동만 가능)

`move`는 해당 칸이 비어있을 때만 칸을 활성화합니다. 만약 그 칸에 적 기물이 있다면, 그 칸은 활성화되지 않습니다.

```less
move(1, 0) repeat(1);
move(-1, 0) repeat(1);
move(0, 1) repeat(1);
move(0, -1) repeat(1);`
```

- `take-move` 룩은 적을 만나면 그 칸을 "잡을 수 있는 칸"으로 활성화합니다.
- `move` 룩은 적을 만나면 그 칸을 활성화하지 않고, 그 너머로 가지도 못합니다.

### 2. `take` (잡기만 가능)

`take`는 `move`의 정반대입니다.

`take`는 해당 칸에 적 기물이 있을 때만 칸을 활성화합니다. 만약 그 칸이 비어있다면, 칸은 활성화되지 않습니다.

```less
take(1, 1);
take(1, -1);
take(-1, 1);
take(-1, -1);
```

- 이 기물은 비어있는 대각선 칸으로 움직일 수 없습니다.

### 3. `catch` (제자리에서 잡기)

`catch`는 `take`와 마찬가지로 해당 칸에 적이 있을 때만 칸을 활성화합니다.

`catch`로 활성화된 칸을 클릭하면, 기물은 제자리에 머무른 채 해당 칸의 적 기물만 잡습니다. (즉, '원거리 공격'입니다.)

catch는 기물이 위험한 칸으로 직접 이동하지 않습니다. 따라서 공격한 직후, 그 이동한 위치에서 적에게 '되잡힐(recaptured)' 위험이 없습니다.

### 4. `shift` (자리 바꾸기)

`shift`는 `take-move`, `take`, `move`, `catch`와 달리 2개의 기물을 움직입니다.

```jsx
shift(1, 0);
shift(-1, 0);
shift(0, 1);
shift(0, -1);
shift(1, 1);
shift(1, -1);
shift(-1, 1);
shift(-1, -1);
```

`shift`가 생성한 행마법을 클릭하면 해당 위치의 기물과 서로 자리가 바뀝니다.


